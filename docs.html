<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NVLib v4 Docs</title>
    <style>
        :root {
            --primary-color: #4f46e5; /* Updated to a slightly deeper purple/blue for v4 */
            --sidebar-bg: #f8fafc;
            --sidebar-border: #e2e8f0;
            --text-color: #334155;
            --heading-color: #0f172a;
            --code-bg: #1e293b;
            --code-text: #e2e8f0;
            --accent-bg: #eff6ff;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            color: var(--text-color);
            margin: 0;
            display: flex;
            height: 100vh;
            overflow: hidden;
        }

        /* Sidebar Navigation */
        aside {
            width: 260px;
            background-color: var(--sidebar-bg);
            border-right: 1px solid var(--sidebar-border);
            overflow-y: auto;
            flex-shrink: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
        }

        aside h1 {
            font-size: 1.5rem;
            color: var(--primary-color);
            margin-bottom: 30px;
            font-weight: 800;
        }

        aside nav a {
            display: block;
            padding: 8px 12px;
            color: var(--text-color);
            text-decoration: none;
            font-size: 0.95rem;
            border-radius: 6px;
            margin-bottom: 4px;
            transition: all 0.2s;
        }

        aside nav a:hover {
            background-color: #e2e8f0;
            color: var(--heading-color);
        }

        aside nav .section-title {
            text-transform: uppercase;
            font-size: 0.75rem;
            font-weight: 700;
            color: #94a3b8;
            margin-top: 20px;
            margin-bottom: 10px;
            padding-left: 12px;
        }

        /* Main Content */
        main {
            flex-grow: 1;
            padding: 40px 60px;
            overflow-y: auto;
            scroll-behavior: smooth;
        }

        h2 {
            color: var(--heading-color);
            font-size: 1.8rem;
            border-bottom: 2px solid var(--sidebar-border);
            padding-bottom: 10px;
            margin-top: 50px;
            margin-bottom: 20px;
        }

        h3 {
            color: var(--heading-color);
            margin-top: 30px;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
        }

        p {
            line-height: 1.6;
            margin-bottom: 15px;
        }

        /* Code Blocks */
        pre {
            background-color: var(--code-bg);
            color: var(--code-text);
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9rem;
            margin-bottom: 20px;
            border: 1px solid #334155;
        }

        code.inline {
            background-color: #f1f5f9;
            color: var(--primary-color);
            padding: 2px 6px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 0.95em;
            font-weight: 600;
        }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
            font-size: 0.95rem;
        }

        th, td {
            text-align: left;
            padding: 12px;
            border-bottom: 1px solid var(--sidebar-border);
        }

        th {
            background-color: var(--sidebar-bg);
            font-weight: 600;
        }

        tr:hover {
            background-color: var(--accent-bg);
        }

        /* Badges */
        .badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            margin-left: 8px;
        }
        .badge.json { background-color: #dbeafe; color: #1e40af; }
        .badge.py { background-color: #fce7f3; color: #9d174d; }
        .badge.new { background-color: #dcfce7; color: #166534; }

        /* Footer */
        footer {
            margin-top: 60px;
            padding-top: 20px;
            border-top: 1px solid var(--sidebar-border);
            text-align: center;
            color: #94a3b8;
            font-size: 0.85rem;
        }
    </style>
</head>
<body>

<aside>
    <h1>NVLib <span style="font-size:0.8rem; color:#64748b;">v4.0</span></h1>
    <nav>
        <a href="#intro">Introduction</a>
        <a href="#setup">Setup & Initialization</a>
        <a href="#screens">Screen Management <span class="badge new" style="transform: scale(0.8);">New</span></a>
        <a href="#canvas">Canvas configuration</a>

        <div class="section-title">Components</div>
        <a href="#button">Button</a>
        <a href="#label">Label</a>
        <a href="#textbox">TextBox / TextArea</a>
        <a href="#checkbox">Checkbox</a>
        <a href="#toggle">ToggleButton</a>
        <a href="#spinner">Spinner (Number)</a>
        <a href="#slider">Slider</a>
        <a href="#progress">ProgressBar</a>
        <a href="#dropdown">Dropdown</a>
        <a href="#radiogroup">RadioGroup</a>
        <a href="#layout">Panel & CardView</a>
        <a href="#image">Image</a>
    </nav>
</aside>

<main>
    <section id="intro">
        <h2>Introduction</h2>
        <p>
            <strong>NVLib AutoGUI</strong> is a high-level wrapper around KivyMD, allowing developers to create persistent, multi-screen applications using simple JSON definitions and Pythonic logic.
        </p>
        <p>
            <strong>Version 4 Features:</strong>
            <ul>
                <li><strong>Multi-Screen Support:</strong> Register multiple JSON layouts as screens.</li>
                <li><strong>State Persistence:</strong> Form inputs and widget states are preserved when switching screens.</li>
                <li><strong>Namespaced Access:</strong> Access widgets safely via <code>app.screenName.widgetID</code>.</li>
                <li><strong>Secure Loading:</strong> Built-in asset protection.</li>
            </ul>
        </p>
    </section>

    <section id="setup">
        <h2>Setup & Initialization</h2>
        <p>Create a Python script (e.g., <code class="inline">main.py</code>) and your JSON layout files.</p>

        <h3>Python code</h3>
        <pre><code>from NVLib.Components.GUI.AutoGUI import AutoGUI

# 1. Initialize the App
app = AutoGUI()

# 2. Register Screens
# 'main=True' defines the starting screen.
app.register_screen("home", "home.json", main=True)
app.register_screen("settings", "settings.json")

# 3. Configure Window
app.set_title("NVLib v4 App")

# 4. Define Logic (Navigation)
def go_settings():
    # Access widgets via app.screenName.componentId
    print(f"User: {app.home.txt_username.text()}") 
    app.switch_screen("settings")

def go_home():
    app.switch_screen("home")

# 5. Bind Events
app.home.btn_settings.on_click(go_settings)
app.settings.btn_back.on_click(go_home)

# 6. Run
app.run()</code></pre>
    </section>

    <section id="screens">
        <h2>Screen Management <span class="badge new">v4</span></h2>
        <p>NVLib v4 introduces a robust screen manager that keeps screens alive in memory to preserve user input.</p>

        <h3>1. Registering Screens</h3>
        <p>Use <code>register_screen</code> instead of the old <code>build_gui</code>.</p>
        <pre><code>app.register_screen(unique_name, json_path, main=False)</code></pre>
        <ul>
            <li><strong>unique_name:</strong> A string ID for the screen (e.g., "login", "dashboard").</li>
            <li><strong>json_path:</strong> Path to the .json layout file.</li>
            <li><strong>main:</strong> Set to <code>True</code> for the first screen to show on launch.</li>
        </ul>

        <h3>2. Switching Screens</h3>
        <pre><code>app.switch_screen("unique_name")</code></pre>
        <p>This hides the current screen and shows the target screen. <strong>Note:</strong> The previous screen is hidden, not destroyed. All typed text, toggles, and scroll positions remain intact.</p>

        <h3>3. Accessing Widgets</h3>
        <p>Widgets are now namespaced to prevent ID collisions between screens.</p>
        <pre><code># Syntax
app.{screen_name}.{widget_id}.method()

# Example
app.login.username_input.text()
app.dashboard.logout_btn.on_click(logout_func)</code></pre>
    </section>

    <section id="canvas">
        <h2>Canvas configuration</h2>
        <p>The root object in your JSON file. Defines the initial dimensions.</p>
        <pre><code>{
  "canvas": {
    "width": 800,
    "height": 600,
    "title": "My App Title"
  },
  "components": [ ... ]
}</code></pre>
    </section>

    <hr>

    <h2 id="components">Component reference</h2>
    <p>Components support JSON properties <span class="badge json">JSON</span> and Python methods <span class="badge py">Python</span>.</p>

    <!-- BUTTON -->
    <section id="button">
        <h3>Button</h3>
        <p>A standard clickable button with ripple effects.</p>

        <h4>JSON properties</h4>
        <table>
            <tr><th>Property</th><th>Type</th><th>Description</th></tr>
            <tr><td>type</td><td>String</td><td>"Button"</td></tr>
            <tr><td>text</td><td>String</td><td>Label on the button.</td></tr>
            <tr><td>backgroundColor</td><td>Hex</td><td>Button background color.</td></tr>
            <tr><td>textColor</td><td>Hex</td><td>Button text color.</td></tr>
            <tr><td>fontSize</td><td>Int</td><td>Font size (default 14).</td></tr>
            <tr><td>cornerRadius</td><td>Int</td><td>Rounded corners.</td></tr>
            <tr><td>bold</td><td>Bool</td><td>Emphasize label.</td></tr>
        </table>

        <h4>Python API</h4>
        <table>
            <tr><th>Method</th><th>Description</th></tr>
            <tr><td><code>.on_click(func)</code></td><td>Bind a function to the click event.</td></tr>
            <tr><td><code>.text(new_text=None)</code></td><td>Get or set the button label.</td></tr>
            <tr><td><code>.set_visible(bool)</code></td><td>Show or hide the button.</td></tr>
        </table>
    </section>

    <!-- LABEL -->
    <section id="label">
        <h3>Label</h3>
        <p>Text or icon display. Supports Material Symbols if <code class="inline">iconName</code> is set.</p>

        <h4>JSON properties</h4>
        <table>
            <tr><th>Property</th><th>Type</th><th>Description</th></tr>
            <tr><td>type</td><td>String</td><td>"Label"</td></tr>
            <tr><td>text</td><td>String</td><td>Text content.</td></tr>
            <tr><td>iconName</td><td>String</td><td>Material icon name (e.g. "home").</td></tr>
            <tr><td>textColor</td><td>Hex</td><td>Text/icon color.</td></tr>
            <tr><td>fontSize</td><td>Int</td><td>Font size.</td></tr>
            <tr><td>bold</td><td>Bool</td><td>Bold text (for text labels).</td></tr>
        </table>

        <h4>Python API</h4>
        <table>
            <tr><th>Method</th><th>Description</th></tr>
            <tr><td><code>.text(new_text=None)</code></td><td>Get or set label text.</td></tr>
            <tr><td><code>.text_color(hex)</code></td><td>Set text/icon color.</td></tr>
        </table>
    </section>

    <!-- TEXTBOX -->
    <section id="textbox">
        <h3>TextBox / TextArea</h3>
        <p>Input fields. <code class="inline">TextBox</code> is single-line, <code class="inline">TextArea</code> is multi-line.</p>

        <h4>JSON properties</h4>
        <table>
            <tr><th>Property</th><th>Type</th><th>Description</th></tr>
            <tr><td>type</td><td>String</td><td>"TextBox" or "TextArea"</td></tr>
            <tr><td>text</td><td>String</td><td>Initial text value.</td></tr>
            <tr><td>hintText</td><td>String</td><td>Placeholder text.</td></tr>
            <tr><td>textColor</td><td>Hex</td><td>Input text color.</td></tr>
            <tr><td>backgroundColor</td><td>Hex</td><td>Field background.</td></tr>
        </table>

        <h4>Python API</h4>
        <table>
            <tr><th>Method</th><th>Description</th></tr>
            <tr><td><code>.text(new_text=None)</code></td><td>Get or set current text.</td></tr>
            <tr><td><code>.set_enabled(bool)</code></td><td>Enable or disable typing.</td></tr>
        </table>
    </section>

    <!-- CHECKBOX -->
    <section id="checkbox">
        <h3>Checkbox</h3>
        <p>A persistent toggle box.</p>

        <h4>JSON properties</h4>
        <table>
            <tr><th>Property</th><th>Type</th><th>Description</th></tr>
            <tr><td>type</td><td>String</td><td>"Checkbox"</td></tr>
            <tr><td>checked</td><td>Bool</td><td>Initial checked state.</td></tr>
            <tr><td>text</td><td>String</td><td>Optional label text next to box.</td></tr>
            <tr><td>checkedColor</td><td>Hex</td><td>Active color.</td></tr>
        </table>

        <h4>Python API</h4>
        <table>
            <tr><th>Method</th><th>Description</th></tr>
            <tr><td><code>.is_checked()</code></td><td>Returns True if checked.</td></tr>
            <tr><td><code>.on_toggle(func)</code></td><td>Bind a callback when state changes.</td></tr>
        </table>
    </section>

    <!-- TOGGLE BUTTON -->
    <section id="toggle">
        <h3>ToggleButton (Switch)</h3>
        <p>A modern sliding switch.</p>

        <h4>JSON properties</h4>
        <table>
            <tr><th>Property</th><th>Type</th><th>Description</th></tr>
            <tr><td>type</td><td>String</td><td>"ToggleButton"</td></tr>
            <tr><td>checked</td><td>Bool</td><td>Initial state.</td></tr>
            <tr><td>onColor</td><td>Hex</td><td>Thumb color when active.</td></tr>
            <tr><td>offColor</td><td>Hex</td><td>Thumb color when inactive.</td></tr>
        </table>

        <h4>Python API</h4>
        <table>
            <tr><th>Method</th><th>Description</th></tr>
            <tr><td><code>.is_on()</code></td><td>Returns True if active.</td></tr>
            <tr><td><code>.on_toggle(func)</code></td><td>Bind a callback when switched.</td></tr>
        </table>
    </section>

    <!-- SPINNER -->
    <section id="spinner">
        <h3>Spinner</h3>
        <p>Numeric input with +/- buttons.</p>

        <h4>JSON properties</h4>
        <table>
            <tr><th>Property</th><th>Type</th><th>Description</th></tr>
            <tr><td>type</td><td>String</td><td>"Spinner"</td></tr>
            <tr><td>min</td><td>Int</td><td>Minimum value.</td></tr>
            <tr><td>max</td><td>Int</td><td>Maximum value.</td></tr>
            <tr><td>value</td><td>Int</td><td>Initial value.</td></tr>
        </table>

        <h4>Python API</h4>
        <table>
            <tr><th>Method</th><th>Description</th></tr>
            <tr><td><code>.get()</code></td><td>Returns current integer value.</td></tr>
            <tr><td><code>.set(int)</code></td><td>Set numeric value.</td></tr>
        </table>
    </section>

    <!-- SLIDER -->
    <section id="slider">
        <h3>Slider</h3>
        <p>A draggable slider range.</p>

        <h4>JSON properties</h4>
        <table>
            <tr><th>Property</th><th>Type</th><th>Description</th></tr>
            <tr><td>type</td><td>String</td><td>"Slider"</td></tr>
            <tr><td>min</td><td>Int</td><td>Minimum value.</td></tr>
            <tr><td>max</td><td>Int</td><td>Maximum value.</td></tr>
            <tr><td>value</td><td>Int</td><td>Initial position.</td></tr>
            <tr><td>progressColor</td><td>Hex</td><td>Active track color.</td></tr>
        </table>

        <h4>Python API</h4>
        <table>
            <tr><th>Method</th><th>Description</th></tr>
            <tr><td><code>.get()</code></td><td>Returns current value (float).</td></tr>
            <tr><td><code>.set(val)</code></td><td>Set slider position.</td></tr>
        </table>
    </section>

    <!-- DROPDOWN -->
    <section id="dropdown">
        <h3>Dropdown</h3>
        <p>A button that opens a selection menu.</p>

        <h4>JSON properties</h4>
        <table>
            <tr><th>Property</th><th>Type</th><th>Description</th></tr>
            <tr><td>type</td><td>String</td><td>"Dropdown"</td></tr>
            <tr><td>options</td><td>String</td><td>New-line <code class="inline">\n</code> separated entries.</td></tr>
            <tr><td>text</td><td>String</td><td>Initial selected text.</td></tr>
            <tr><td>selectionColor</td><td>Hex</td><td>Menu item hover/selection tint.</td></tr>
        </table>

        <h4>Python API</h4>
        <table>
            <tr><th>Method</th><th>Description</th></tr>
            <tr><td><code>.get()</code></td><td>Returns current selected text.</td></tr>
            <tr><td><code>.on_select(func)</code></td><td>Bind callback receiving selected text.</td></tr>
        </table>
    </section>

    <!-- RADIO GROUP -->
    <section id="radiogroup">
        <h3>RadioGroup</h3>
        <p>Mutually exclusive options list.</p>

        <h4>JSON properties</h4>
        <table>
            <tr><th>Property</th><th>Type</th><th>Description</th></tr>
            <tr><td>type</td><td>String</td><td>"RadioGroup"</td></tr>
            <tr><td>options</td><td>String</td><td>New-line <code class="inline">\n</code> separated list.</td></tr>
            <tr><td>checkedValue</td><td>String</td><td>Option pre-selected.</td></tr>
            <tr><td>label</td><td>String</td><td>Group header.</td></tr>
        </table>

        <h4>Python API</h4>
        <table>
            <tr><th>Method</th><th>Description</th></tr>
            <tr><td><code>.get()</code></td><td>Returns the selected option string.</td></tr>
            <tr><td><code>.on_select(func)</code></td><td>Bind callback receiving selected option.</td></tr>
        </table>
    </section>

    <!-- LAYOUTS -->
    <section id="layout">
        <h3>Panel / CardView</h3>
        <p>Containers for backgrounds and grouping.</p>

        <h4>JSON properties</h4>
        <table>
            <tr><th>Property</th><th>Type</th><th>Description</th></tr>
            <tr><td>type</td><td>String</td><td>"Panel" or "CardView"</td></tr>
            <tr><td>backgroundColor</td><td>Hex</td><td>Background fill color.</td></tr>
            <tr><td>cornerRadius</td><td>Int</td><td>Roundness of corners.</td></tr>
            <tr><td>elevation</td><td>Int</td><td>(CardView only) Shadow depth.</td></tr>
            <tr><td>borderColor</td><td>Hex</td><td>(CardView only) Border color.</td></tr>
            <tr><td>borderWidth</td><td>Int</td><td>(CardView only) Border width.</td></tr>
            <tr><td>visible</td><td>Bool</td><td>Initial visibility.</td></tr>
        </table>

        <h4>Python API</h4>
        <table>
            <tr><th>Method</th><th>Description</th></tr>
            <tr><td><code>.set_visible(bool)</code></td><td>Show or hide.</td></tr>
            <tr><td><code>.bg_color(hex)</code></td><td>Set background color.</td></tr>
            <tr><td><code>.border(width, hex, visible=True)</code></td><td>(CardView) Configure border.</td></tr>
        </table>
    </section>

    <!-- IMAGE -->
    <section id="image">
        <h3>Image</h3>
        <p>Base64 image rendering.</p>

        <h4>JSON properties</h4>
        <table>
            <tr><th>Property</th><th>Type</th><th>Description</th></tr>
            <tr><td>type</td><td>String</td><td>"Image"</td></tr>
            <tr><td>src</td><td>String</td><td>Base64 data URL.</td></tr>
            <tr><td>fit</td><td>String</td><td>"fill" | "contain" | "cover" | "none".</td></tr>
            <tr><td>cornerRadius</td><td>Int</td><td>Corner radius.</td></tr>
        </table>

        <h4>Python API</h4>
        <table>
            <tr><th>Method</th><th>Description</th></tr>
            <tr><td><code>.set_visible(bool)</code></td><td>Show or hide.</td></tr>
            <tr><td><code>.opacity(float)</code></td><td>Set image opacity.</td></tr>
        </table>
    </section>

    <footer>
        <p>NVLib AutoGUI v4 â€¢ Powered by KivyMD</p>
    </footer>
</main>

</body>
</html>
